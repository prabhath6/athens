{"version":3,"sources":["athens/devcards/left_sidebar.cljs"],"mappings":";;;;;;;;;;;;;;AAmBA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAKA,AAQU,AAAA,AAAc,AAAA,AAACC;AAiB9B,AAAKC,AACH,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAACC,AAAMH;AAiBT,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAKI;AAUL,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAKC,AASuC,AAAA,AAAcC;AAM1D,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAKC,AACK,AAAA,AAACN,AAM0B,AAAA,AAAeK;AAGpD,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAKE,AAGO,AAAA,AAAcF,AAMhB,AAAA,AAACL,AAE0B,AAAA,AAAeK;AAMpD,AAAA,AAAMG;AAAN,AAEE,AAAMC,AAAM,AAAAC,AAAA,AAAA;AAAA,AAAA,AAAAA,AAAAA,AAACC,AAAAA,AAAAA;;AACPC,AAAU,AAACC,AAAAA,AAAAA,AAAEC,AAAAA,AAAeC,AAAAA;AADlC,AAEE;AAAA,AACE,AAAMC,AAAuBJ,AACD,AAAA,AAAA,AAAAK,AAACC,AACD,AAACC,AAAQC;AAFrC,AAGE,AAAI,AAAA,AAAAH,AAACI,AAAKZ;AAAV,AAAA,AAAA,AAAA,AAAA,AAAA,AAGQ,AAACa,AAAUrB,AACfsB;AAJJ,AAI0B,AAAAC,AAAA,AAAA;AAAA,AAAA,AAAAA,AAAAA,AAACC,AAAAA,AAAAA;AAJ3B,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAKuBC,AACnBC;AANJ,AAMkC,AAAAC,AAAA,AAAA;AAAA,AAAA,AAAAA,AAAAA,AAACH,AAAAA,AAAAA;AANnC,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAO+BI,AACnB,AAAA,AAACC,AAAc7B,AACtBsB,AACmBQ,AACnBR,AACmBS;;AAZxB,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAeQ,AAACV,AAAUvB,AACV,AAAA,AAAC+B,AAAc/B,AACnBkC,AACAV;AAlBL,AAkB2B,AAAAW,AAAA,AAAA;AAAA,AAAA,AAAAA,AAAAA,AAACT,AAAAA,AAAAA;AAlB5B,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAmBwBU,AACf,AAACb,AAAUnB,AACfoB,AACmCa,AAEnCb;AAxBL,AAwB2B,AAAA,AAACc;AAxB5B,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAyBwDC,AAEnDf,AACmCgB,AAIhC,AAACjB,AAAUlB,AACV,AAAA,AAAC0B,AAAc1B,AACpB,AAACoC,AACC,AAAAC,AAAA,AAAAC;AAAA,AAAA,AAAAC,AAAA,AAAA;AAAA,AAAA,AAAAD,AAAAA;;AAAA,AAAA,AAAAE,AAAA,AAAAC,AAAAH;AAAA,AAAA,AAAAE;AAAA,AAAA,AAAAF,AAAAE;AAAA,AAAA,AAAA,AAAAE,AAAAJ;AAAA,AAAAK,AA0xEqC,AAAAsB,AAAA3B;AA1xErCM,AAAA,AAAAC,AAAAF;AAAAG,AAAA,AAAAC,AAAAH;AAAA,AAAA,AAAA,AAAA,AAAAI,AAAA;;AAAA,AAAA,AAAA,AAAAA,AAAAJ;AAAA,AAAAK,AAAA,AAAAC,AAAAP,AAAAK;AAAA,AAAAG,AAAAF,AAAA,AAAA,AAAOW;AAAP,AAAAT,AAAAF,AAAA,AAAA,AAAcY;AAAd,AAAAV,AAAAF,AAAA,AAAA,AAAoBa;AAApB,AAAA,AAAA,AAAAV,AAAAN,AAAA,AAAA,AAAA,AAES,AAAA,AAAA,AAAA,AAACiB,AAAU7D;;AAAX,AAAsC,AAAC8D,AAAaF;;AAF7D,AAAA,AACSA,AAC2DD;;AAFpE,AAAA,AAAAb,AAAA;;;;AAAA;;;;;AAAA,AAAAK,AAAA,AAAAC,AAAAR,AAAA,AAAAS,AAAA,AAAAC,AAAAlB;;AAAA,AAAAe,AAAA,AAAAC,AAAAR,AAAA;;;AAAA,AAAAW,AAAA,AAAAzC,AAAAsB;AAAA,AAAAa,AAAAM,AAAA,AAAA,AAAOG;AAAP,AAAAT,AAAAM,AAAA,AAAA,AAAcI;AAAd,AAAAV,AAAAM,AAAA,AAAA,AAAoBK;AAApB,AAAA,AAAAJ,AAAA,AAAA,AAAA,AAES,AAAA,AAAA,AAAA,AAACK,AAAU7D;;AAAX,AAAsC,AAAC8D,AAAaF;;AAF7D,AAAA,AAAA,AAAAP,AAAA,AAAAI,AAAArB,AACSwB,AAC2DD;;;AAFpE;;;;AAAA,AAAA;;AAAA,AAAA,AAAAxB,AAAyBzB;AAnC/B,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAwCY,AAAA,AAACc,AAAc/B,AACnB,AAAA,AAAA,AAAA,AAAA,AAAA,AAACoE,AAAU5D,AACdgB,AACmBQ,AACnBR,AACmBS;;;;AAMhC,AAQA","names":["athens.devcards.left-sidebar/left-sidebar-style","athens.style.color.cljs$core$IFn$_invoke$arity$1","athens.devcards.left-sidebar/left-sidebar-collapsed-style","cljs.core.merge.cljs$core$IFn$_invoke$arity$variadic","athens.devcards.left-sidebar/main-navigation-style","athens.devcards.left-sidebar/shortcuts-list-style","athens.style/OPACITIES","athens.devcards.left-sidebar/shortcut-style","athens.devcards.left-sidebar/notional-logotype-style","athens.devcards.left-sidebar/left-sidebar","open?","G__58088","re-frame.core/subscribe","shortcuts","posh.reagent/q","athens.db/q-shortcuts","athens.db/dsdb","sorted-shortcuts","cljs.core/deref","cljs.core.into.cljs$core$IFn$_invoke$arity$2","cljs.core.sort_by.cljs$core$IFn$_invoke$arity$2","cljs.core/first","cljs.core/not","stylefy.core.use_style.cljs$core$IFn$_invoke$arity$1","athens.devcards.buttons/button","G__58089","re-frame.core/dispatch","js/module$node_modules$$material_ui$icons$index.ChevronRight","athens.devcards.buttons/button-primary","G__58090","js/module$node_modules$$material_ui$icons$index.Search","stylefy.core.use_sub_style.cljs$core$IFn$_invoke$arity$2","js/module$node_modules$$material_ui$icons$index.TextFormat","js/module$node_modules$$material_ui$icons$index.Settings","athens.devcards.athena/athena-prompt-el","G__58092","js/module$node_modules$$material_ui$icons$index.ChevronLeft","js/module$node_modules$$material_ui$icons$index.Today","athens.router/navigate","js/module$node_modules$$material_ui$icons$index.FileCopy","js/module$node_modules$$material_ui$icons$index.BubbleChart","cljs.core.doall.cljs$core$IFn$_invoke$arity$1","iter__4582__auto__","s__58094","cljs.core/LazySeq","temp__5735__auto__","cljs.core/seq","cljs.core/chunked-seq?","c__4580__auto__","size__4581__auto__","cljs.core/count","b__58096","cljs.core/chunk-buffer","i__58095","vec__58097","cljs.core._nth.cljs$core$IFn$_invoke$arity$2","cljs.core.nth.cljs$core$IFn$_invoke$arity$3","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__58093","cljs.core/chunk-rest","vec__58100","cljs.core/cons","cljs.core/rest","_order","title","uid","stylefy.core.use_style.cljs$core$IFn$_invoke$arity$2","athens.router.navigate_uid.cljs$core$IFn$_invoke$arity$1","cljs.core/chunk-first"],"sourcesContent":["(ns athens.devcards.left-sidebar\r\n  (:require\r\n    [\"@material-ui/icons\" :as mui-icons]\r\n    [athens.db :as db]\r\n    [athens.devcards.athena :refer [athena-prompt-el]]\r\n    [athens.devcards.buttons :refer [button button-primary]]\r\n    [athens.router :refer [navigate navigate-uid]]\r\n    [athens.style :refer [color OPACITIES]]\r\n    [cljsjs.react]\r\n    [cljsjs.react.dom]\r\n    [devcards.core :refer [defcard-rg]]\r\n    [posh.reagent :refer [q transact!]]\r\n    [re-frame.core :as re-frame :refer [dispatch subscribe]]\r\n    [stylefy.core :as stylefy :refer [use-style use-sub-style]]))\r\n\r\n\r\n;;; Styles\r\n\r\n\r\n(def left-sidebar-style\r\n  {:flex \"0 0 288px\"\r\n   :grid-area \"left-sidebar\"\r\n   :width \"288px\"\r\n   :height \"100%\"\r\n   :display \"flex\"\r\n   :flex-direction \"column\"\r\n   :padding \"32px 32px 16px 32px\"\r\n   :box-shadow (str \"1px 0 \" (color :panel-color))\r\n   ::stylefy/manual [[]]\r\n   ::stylefy/sub-styles {:top-line {:margin-bottom \"40px\"\r\n                                    :display \"flex\"\r\n                                    :flex \"0 0 auto\"\r\n                                    :justify-content \"space-between\"}\r\n                         :footer {:margin-top \"auto\"\r\n                                  :flex \"0 0 auto\"\r\n                                  :align-self \"stretch\"\r\n                                  :display \"grid\"\r\n                                  :grid-auto-flow \"column\"\r\n                                  :grid-template-columns \"1fr auto auto\"\r\n                                  :grid-gap \"4px\"}\r\n                         :small-icon {:font-size \"16px\"}\r\n                         :large-icon {:font-size \"22px\"}}})\r\n\r\n\r\n(def left-sidebar-collapsed-style\r\n  (merge left-sidebar-style {:flex \"0 0 44px\"\r\n                             :display \"grid\"\r\n                             :padding \"32px 4px 16px\"\r\n                             :grid-gap \"4px\"\r\n                             :width \"44px\"\r\n                             :box-shadow \"1px 0 #EFEDEB\"\r\n                             :overflow-x \"hidden\"\r\n                             :grid-template-rows \"auto auto 1fr\"\r\n                             :align-self \"stretch\"\r\n                             ::stylefy/sub-styles {:footer {:padding-top \"40px\"\r\n                                                            :align-self \"flex-end\"\r\n                                                            :margin-top \"auto\"\r\n                                                            :display \"grid\"\r\n                                                            :grid-gap \"4px\"\r\n                                                            :grid-auto-flow \"row\"}}}))\r\n\r\n\r\n(def main-navigation-style\r\n  {:margin \"0 0 32px\"\r\n   :display \"grid\"\r\n   :grid-auto-flow \"row\"\r\n   :grid-gap \"4px\"\r\n   :justify-content \"flex-start\"\r\n   ::stylefy/manual [[:svg {:font-size \"16px\"}]\r\n                     [:button {:justify-self \"flex-start\"}]]})\r\n\r\n\r\n(def shortcuts-list-style\r\n  {:flex \"1 1 100%\"\r\n   :display \"flex\"\r\n   :list-style \"none\"\r\n   :flex-direction \"column\"\r\n   :padding \"0\"\r\n   :margin \"0 0 32px\"\r\n   :overflow-y \"auto\"\r\n   ::stylefy/sub-styles {:heading {:flex \"0 0 auto\"\r\n                                   :opacity (:opacity-med OPACITIES)\r\n                                   :line-height \"1\"\r\n                                   :margin \"0 0 4px\"\r\n                                   :font-size \"inherit\"}}})\r\n\r\n\r\n(def shortcut-style\r\n  {:color (color :link-color)\r\n   :cursor \"pointer\"\r\n   :display \"flex\"\r\n   :flex \"0 0 auto\"\r\n   :padding \"4px 0\"\r\n   :transition \"all 0.05s ease\"\r\n   ::stylefy/mode [[:hover {:opacity (:opacity-high OPACITIES)}]]})\r\n\r\n\r\n(def notional-logotype-style\r\n  {:font-family \"IBM Plex Serif\"\r\n   :font-size \"18px\"\r\n   :opacity (:opacity-med OPACITIES)\r\n   :letter-spacing \"-0.05em\"\r\n   :font-weight \"bold\"\r\n   :text-decoration \"none\"\r\n   :justify-self \"flex-start\"\r\n   :align-self \"center\"\r\n   :color (color :header-text-color)\r\n   :transition \"all 0.05s ease\"\r\n   ::stylefy/mode [[:hover {:opacity (:opacity-high OPACITIES)}]]})\r\n\r\n\r\n;;; Components\r\n\r\n\r\n(defn left-sidebar\r\n  []\r\n  (let [open? (subscribe [:left-sidebar])\r\n        shortcuts (q db/q-shortcuts db/dsdb)]\r\n    (fn []\r\n      (let [sorted-shortcuts (->> @shortcuts\r\n                                  (into [])\r\n                                  (sort-by first))]\r\n        (if (not @open?)\r\n\r\n          ;; IF COLLAPSED\r\n          [:div (use-style left-sidebar-collapsed-style)\r\n           [button {:on-click-fn #(dispatch [:toggle-left-sidebar])\r\n                    :label [:> mui-icons/ChevronRight]}]\r\n           [button-primary {:on-click-fn #(dispatch [:toggle-athena])\r\n                            :label [:> mui-icons/Search]}]\r\n           [:footer (use-sub-style left-sidebar-collapsed-style :footer)\r\n            [button {:disabled true\r\n                     :label [:> mui-icons/TextFormat]}]\r\n            [button {:disabled true\r\n                     :label [:> mui-icons/Settings]}]]]\r\n\r\n          ;; IF EXPANDED\r\n          [:div (use-style left-sidebar-style)\r\n           [:div (use-sub-style left-sidebar-style :top-line)\r\n            [athena-prompt-el]\r\n            [button {:on-click-fn #(dispatch [:toggle-left-sidebar])\r\n                     :label [:> mui-icons/ChevronLeft]}]]\r\n           [:nav (use-style main-navigation-style)\r\n            [button {:disabled true :label [:<>\r\n                                            [:> mui-icons/Today]\r\n                                            [:span \"Daily Notes\"]]}]\r\n            [button {:on-click-fn #(navigate :home) :label [:<>\r\n                                                            [:> mui-icons/FileCopy]\r\n                                                            [:span \"All Pages\"]]}]\r\n            [button {:disabled true :label [:<>\r\n                                            [:> mui-icons/BubbleChart]\r\n                                            [:span \"Graph Overview\"]]}]]\r\n\r\n           ;; SHORTCUTS\r\n           [:ol (use-style shortcuts-list-style)\r\n            [:h2 (use-sub-style shortcuts-list-style :heading) \"Shortcuts\"]\r\n            (doall\r\n              (for [[_order title uid] sorted-shortcuts]\r\n                ^{:key uid}\r\n                [:li>a (use-style shortcut-style {:on-click #(navigate-uid uid)}) title]))]\r\n\r\n           ;; LOGO + BOTTOM BUTTONS\r\n           [:footer (use-sub-style left-sidebar-style :footer)\r\n            [:a (use-style notional-logotype-style {:href \"https://github.com/athensresearch/athens\" :target \"_blank\"}) \"Athens\"]\r\n            [button {:disabled true\r\n                     :label [:> mui-icons/TextFormat]}]\r\n            [button {:disabled true\r\n                     :label [:> mui-icons/Settings]}]]])))))\r\n\r\n\r\n;;; Devcards\r\n\r\n\r\n(defcard-rg Create-Shortcut\r\n  [button-primary {:on-click-fn (fn []\r\n                                  (let [n (:max-eid @db/dsdb)]\r\n                                    (transact! db/dsdb [{:page/sidebar n\r\n                                                         :node/title   (str \"Page \" n)\r\n                                                         :block/uid    (str \"uid\" n)}]))) :label \"Create Shortcut\"}])\r\n\r\n\r\n(defcard-rg Left-Sidebar\r\n  [:div {:style {:display \"flex\" :height \"60vh\"}}\r\n   [left-sidebar]]\r\n  {:padding false})\r\n"]}